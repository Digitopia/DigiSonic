{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?a388","webpack:///./src/examples.js","webpack:///./src/noteUtils.js","webpack:///./src/themes.js","webpack:///./src/errors.js","webpack:///./src/digiSonicMode.js","webpack:///./src/app.js","webpack:///./src/app.js?f45f","webpack:///./src/App.vue","webpack:///./src/registerServiceWorker.js","webpack:///./src/main.js","webpack:///./src/App.vue?c650"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","on","$event","playing","class","active","looping","muted","directives","rawName","expression","domProps","target","composing","inputNote","inputNoteChanged","inputNoteKeyPressed","modifiers","error","isValidMidi","inputMidi","pianoLowNote","pianoHighNote","_n","inputMidiChanged","inputMidiKeyPressed","$forceUpdate","staticRenderFns","nota","arpejoDo","acordeDo","cromatico","parseNote","notePtMidi","ret","isNaN","convertPtNoteToEn","convertMidiToEnNote","note","changeOctave","toLowerCase","includes","replace","teoria","interval","scientific","convertEnNoteToPt","toUpperCase","midi","fromMIDI","convertMidiToPtNote","enNote","ptNote","convertEnNoteToMidi","convertPtNoteToMidi","getToneTimeFromOffset","offset","Tone","Time","Error","msg","line","InvalidMidi","InvalidNote","InvalidInstruction","CodeMirror","defineSimpleMode","start","regex","token","next","indent","dedent","spec","end","comment","meta","dontIndentStates","lineComment","library","add","faPlay","faStop","faUndoAlt","faVolumeUp","faVolumeMute","Vue","component","FontAwesomeIcon","reevalute","loaded","lines","bpm","samples","C3","E3","G3","C4","E4","G4","samplesBasePath","mounted","init","debouncedResize","debounce","resize","onresize","watch","play","stop","Transport","loop","Master","mute","methods","initEditor","initPiano","initAudio","initMidi","examples","editor","document","querySelector","join","theme","themes","find","lineNumbers","gutter","showCursorWhenSelecting","addKeyMap","piano","Nexus","Piano","lowNote","highNote","resizePiano","colorize","v","pianoChanged","sampler","Sampler","toMaster","clearPiano","WebMidi","enable","err","console","log","inputs","input","addListener","evt","number","settings","pianoInputMidi","dispatchEvent","Event","context","state","resume","cancel","schedule","clearGutter","text","getValue","split","getAllMarks","forEach","mark","clear","processLine","errors","markText","ch","className","title","loopStart","loopEnd","noteUtils","idx","trim","tokens","inst","param","time","isValidNote","triggerAttackRelease","toggleKey","highlightLine","Number","toString","preventDefault","backspacing","e","keyCode","charCode","keys","sel","querySelectorAll","classList","remove","lineIdx","pianoRatio","pianoWidth","getElementById","clientWidth","rect","setAttribute","getAttribute","rw","parseFloat","rx","rr","nrx","register","process","ready","registered","cached","updatefound","updated","offline","config","productionTip","devtools","render","h","App","$mount"],"mappings":"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","file":"js/app.0886c7c9.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/DigiSonic/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{staticClass:\"container mt-3\"},[_c('div',{attrs:{\"id\":\"buttons\"}},[_c('button',{staticClass:\"btn\",on:{\"click\":function($event){_vm.playing = !_vm.playing}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":_vm.playing ? 'stop' : 'play'}})],1),_c('button',{staticClass:\"btn\",class:{ active: _vm.looping },on:{\"click\":function($event){_vm.looping = !_vm.looping}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":\"undo-alt\"}})],1),_c('button',{staticClass:\"btn float-right\",on:{\"click\":function($event){_vm.muted = !_vm.muted}}},[_c('FontAwesomeIcon',{attrs:{\"icon\":_vm.muted ? 'volume-mute' : 'volume-up'}})],1)]),_c('div',{staticClass:\"mt-3\",attrs:{\"id\":\"editor\"}}),_c('div',{staticClass:\"mt-3\",attrs:{\"id\":\"piano\"}}),_c('div',{staticClass:\"mt-3\",attrs:{\"id\":\"inputs\"}},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputNote),expression:\"inputNote\"}],staticClass:\"form-control no-select\",attrs:{\"type\":\"text\",\"maxlength\":\"4\",\"size\":\"5\",\"placeholder\":\"do3\"},domProps:{\"value\":(_vm.inputNote)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.inputNote=$event.target.value},_vm.inputNoteChanged],\"keypress\":_vm.inputNoteKeyPressed}}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.inputMidi),expression:\"inputMidi\",modifiers:{\"number\":true}}],staticClass:\"form-control no-select\",class:{ error: !_vm.isValidMidi(_vm.inputMidi) },attrs:{\"type\":\"number\",\"step\":\"1\",\"placeholder\":\"60\",\"min\":_vm.pianoLowNote,\"max\":_vm.pianoHighNote},domProps:{\"value\":(_vm.inputMidi)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.inputMidi=_vm._n($event.target.value)},_vm.inputMidiChanged],\"keypress\":_vm.inputMidiKeyPressed,\"blur\":function($event){return _vm.$forceUpdate()}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default {\n    nota: ['toca 60', 'espera 1'],\n    arpejoDo: [\n        'toca do3',\n        'espera 1',\n        '',\n        'toca mi3',\n        'espera 1',\n        '',\n        'toca sol3',\n        'espera 1',\n    ],\n    acordeDo: ['toca do3', 'toca mi3', 'toca sol3'],\n    cromatico: [\n        'toca do',\n        'espera 0.25',\n        'toca do#',\n        'espera 0.25',\n        'toca re',\n        'espera 0.25',\n        'toca re#',\n        'espera 0.25',\n        'toca mi',\n        'espera 0.25',\n        'toca re#',\n        'espera 0.25',\n        'toca re',\n        'espera 0.25',\n        'toca do#',\n        'espera 0.25',\n    ],\n}\n","import teoria from 'teoria'\nimport Tone from 'tone'\n\nexport default {\n    /**\n     * Parses the note and returns it \"scientific\" (C3) format.\n     * @example parseNote(\"C3\") => \"C3\"\n     * @example parseNote(\"C\") => \"C3\"\n     * @example parseNote(\"60\") => \"C3\"\n     * @example parseNote(\"62\") => \"D3\"\n     * @example parseNote(\"63\") => \"Eb\"\n     * @example parseNote(\"61\") => \"C#\"\n     * @param {string} param the note to be parsed, probably in PT format (do3),\n     * but also accepts scientific format (C3).\n     */\n    parseNote(notePtMidi) {\n        /* eslint-disable brace-style, no-param-reassign, no-restricted-globals */\n\n        let ret\n\n        // is midi\n        if (!isNaN(notePtMidi)) {\n            ret = this.convertMidiToEnNote(notePtMidi, true)\n        }\n\n        // is do, re, mi, ...\n        else {\n            // if last char is not a number, then add '3' to the end\n            if (isNaN(notePtMidi.slice(-1))) notePtMidi = `${notePtMidi}3`\n\n            ret = this.convertPtNoteToEn(notePtMidi)\n        }\n\n        return ret\n\n        /* eslint-enable no-restricted-globals */\n        /* eslint-enable brace-style, no-param-reassign */\n    },\n\n    /**\n     * @TODO\n     */\n    convertPtNoteToEn(note, changeOctave = false) {\n        note = note.toLowerCase()\n        if (note.includes('do')) note = note.replace('do', 'C')\n        else if (note.includes('re')) note = note.replace('re', 'D')\n        else if (note.includes('mi')) note = note.replace('mi', 'E')\n        else if (note.includes('fa')) note = note.replace('fa', 'F')\n        else if (note.includes('sol')) note = note.replace('sol', 'G')\n        else if (note.includes('la')) note = note.replace('la', 'A')\n        else if (note.includes('si')) note = note.replace('si', 'B')\n        if (changeOctave)\n            note = teoria\n                .note(note)\n                .interval('P8')\n                .scientific()\n        return note\n    },\n\n    /**\n     * @TODO\n     */\n    convertEnNoteToPt(note, changeOctave = false) {\n        if (changeOctave)\n            note = teoria\n                .note(note)\n                .interval('P-8')\n                .scientific()\n        note = note.toUpperCase()\n        if (note.includes('C')) note = note.replace('C', 'do')\n        else if (note.includes('D')) note = note.replace('D', 're')\n        else if (note.includes('E')) note = note.replace('E', 'mi')\n        else if (note.includes('F')) note = note.replace('F', 'fa')\n        else if (note.includes('G')) note = note.replace('G', 'sol')\n        else if (note.includes('A')) note = note.replace('A', 'la')\n        else if (note.includes('B')) note = note.replace('B', 'si')\n        note = note.toLowerCase()\n        return note\n    },\n\n    convertMidiToEnNote(midi, changeOctave = false) {\n        const ret = teoria.note.fromMIDI(midi)\n        if (changeOctave) return ret.interval('P-8').scientific()\n        return ret.scientific()\n    },\n\n    convertMidiToPtNote(midi) {\n        const enNote = this.convertMidiToEnNote(midi)\n        const ptNote = this.convertEnNoteToPt(enNote, true)\n        return ptNote\n    },\n\n    convertEnNoteToMidi(note) {\n        return teoria.note(note).midi()\n    },\n\n    convertPtNoteToMidi(note) {\n        const enNote = this.convertPtNoteToEn(note, true)\n        return teoria.note(enNote).midi()\n        // return teoria.note(note).interval(\"P8\").midi()\n    },\n\n    getToneTimeFromOffset(offset) {\n        return offset * Tone.Time('4n')\n    },\n}\n","export default [\n    '3024-day',\n    '3024-night',\n    'abcdef',\n    'ambiance - mobile',\n    'ambiance',\n    'base16 - dark',\n    'base16-light',\n    'bespin',\n    'blackboard',\n    'cobalt',\n    'colorforth',\n    'darcula', // nice\n    'dracula',\n    'duotone-dark',\n    'duotone-light',\n    'eclipse',\n    'elegant',\n    'erlang-dark',\n    'gruvbox-dark',\n    'hopscotch',\n    'icecoder',\n    'idea', // nice\n    'isotope',\n    'lesser-dark',\n    'liquibyte',\n    'lucario',\n    'material',\n    'mbo',\n    'mdn-like', // nice\n    'midnight',\n    'monokai',\n    'neat',\n    'neo',\n    'night',\n    'oceanic-next',\n    'panda-syntax',\n    'paraiso-dark',\n    'paraiso-light',\n    'pastel-on-dark',\n    'railscasts',\n    'rubyblue',\n    'seti',\n    'shadowfox',\n    'solarized',\n    'ssms',\n    'the-matrix',\n    'tomorrow-night-bright',\n    'tomorrow-night-eighties',\n    'ttcn',\n    'twilight',\n    'vibrant-ink',\n    'xq-dark',\n    'xq-light',\n    'yeti',\n    'zenburn',\n]\n","class Error {\n    constructor(msg, line) {\n        this.msg = msg\n        this.line = line\n        this.name = 'Error'\n    }\n}\n\nexport class InvalidMidi extends Error {\n    constructor(msg, line) {\n        super(msg, line)\n        this.msg = 'a nota MIDI deve ser um número entre 48 e 84'\n        this.name = 'InvalidMidi'\n    }\n}\n\nexport class InvalidNote extends Error {\n    constructor(msg, line) {\n        super(msg, line)\n        this.msg = 'formato inválido de nota'\n        this.name = 'InvalidNote'\n    }\n}\n\nexport class InvalidInstruction extends Error {\n    constructor(msg, line) {\n        super(msg, line)\n        this.msg = 'a instrução terá de ser toca ou espera'\n        this.name = 'InvalidInstruction'\n    }\n}\n","/* Example definition of a simple mode that understands a subset of\n * JavaScript:\n */\n\n/* eslint-disable no-useless-escape */\n\nimport CodeMirror from 'codemirror'\nimport 'codemirror/addon/mode/simple'\n\nCodeMirror.defineSimpleMode('digi-sonic-mode', {\n    // The start state contains the rules that are intially used\n    start: [\n        // The regex matches the token, the token property contains the type\n        { regex: /\"(?:[^\\\\]|\\\\.)*?(?:\"|$)/, token: 'string' },\n        // You can match multiple tokens at once. Note that the captured\n        // groups must span the whole string in this case\n        {\n            regex: /(function)(\\s+)([a-z$][\\w$]*)/,\n            token: ['keyword', null, 'variable-2'],\n        },\n        // Rules are matched in the order in which they appear, so there is\n        // no ambiguity between this one and the one above\n        {\n            // regex: /(?:function|var|return|if|for|while|else|do|this)\\b/,\n            regex: /(?:toca|espera)\\b/,\n            token: 'keyword',\n        },\n        { regex: /true|false|null|undefined/, token: 'atom' },\n        {\n            regex: /0x[a-f\\d]+|[-+]?(?:\\.\\d+|\\d+\\.?\\d*)(?:e[-+]?\\d+)?/i,\n            token: 'number',\n        },\n        { regex: /\\/\\/.*/, token: 'comment' },\n        { regex: /\\/(?:[^\\\\]|\\\\.)*?\\//, token: 'variable-3' },\n        // A next property will cause the mode to move to a different state\n        { regex: /\\/\\*/, token: 'comment', next: 'comment' },\n        { regex: /[-+\\/*=<>!]+/, token: 'operator' },\n        // indent and dedent properties guide autoindentation\n        { regex: /[\\{\\[\\(]/, indent: true },\n        { regex: /[\\}\\]\\)]/, dedent: true },\n        { regex: /[a-z$][\\w$]*/, token: 'variable' },\n        // You can embed other modes with the mode property. This rule\n        // causes all code between << and >> to be highlighted with the XML\n        // mode.\n        { regex: /<</, token: 'meta', mode: { spec: 'xml', end: />>/ } },\n    ],\n    // The multi-line comment state.\n    comment: [\n        { regex: /.*?\\*\\//, token: 'comment', next: 'start' },\n        { regex: /.*/, token: 'comment' },\n    ],\n    // The meta property contains global information about the mode. It\n    // can contain properties like lineComment, which are supported by\n    // all modes, and also directives like dontIndentStates, which are\n    // specific to simple modes.\n    meta: {\n        dontIndentStates: ['comment'],\n        lineComment: '//',\n    },\n})\n","import Vue from 'vue'\n\nimport Tone from 'tone'\nimport WebMidi from 'webmidi'\nimport CodeMirror from 'codemirror'\nimport Nexus from 'nexusui'\nimport teoria from 'teoria'\nimport { debounce } from 'lodash'\n\nimport examples from '@/examples'\nimport noteUtils from '@/noteUtils'\nimport themes from '@/themes'\nimport * as errors from '@/errors'\n\nimport { library } from '@fortawesome/fontawesome-svg-core'\nimport {\n    faPlay,\n    faStop,\n    faUndoAlt,\n    faVolumeUp,\n    faVolumeMute,\n} from '@fortawesome/free-solid-svg-icons'\nimport { FontAwesomeIcon } from '@fortawesome/vue-fontawesome'\nlibrary.add(faPlay, faStop, faUndoAlt, faVolumeUp, faVolumeMute)\nVue.component('FontAwesomeIcon', FontAwesomeIcon)\n\nimport 'codemirror/theme/mdn-like.css'\nimport 'codemirror/lib/codemirror.css'\nimport 'codemirror/mode/javascript/javascript.js'\nimport '@/digiSonicMode'\n\nexport default {\n    name: 'app',\n\n    data() {\n        return {\n            playing: false,\n            looping: false,\n            muted: false,\n            reevalute: false,\n            loaded: false,\n            lines: [],\n            inputNote: null,\n            inputMidi: null,\n            bpm: 60,\n            samples: {\n                C3: 'C3.mp3',\n                E3: 'E3.mp3',\n                G3: 'G3.mp3',\n                C4: 'C4.mp3',\n                E4: 'E4.mp3',\n                G4: 'G4.mp3',\n            },\n            samplesBasePath: 'sounds/piano/',\n            pianoLowNote: 48,\n            pianoHighNote: 84,\n        }\n    },\n\n    mounted() {\n        this.init()\n        const debouncedResize = debounce(() => this.resize(), 100)\n        window.onresize = () => {\n            debouncedResize()\n        }\n    },\n\n    watch: {\n        playing: function() {\n            if (this.playing) this.play()\n            else this.stop()\n        },\n        looping: function() {\n            Tone.Transport.loop = this.looping\n        },\n        muted: function() {\n            Tone.Master.mute = this.muted\n        },\n    },\n\n    methods: {\n        init() {\n            this.initEditor()\n            this.initPiano()\n            this.initAudio()\n            this.initMidi()\n        },\n\n        initEditor() {\n            const lines = examples.nota\n\n            this.editor = CodeMirror(document.querySelector('#editor'), {\n                value: lines.join('\\n'),\n                mode: 'digi-sonic-mode',\n                theme: themes.find(theme => theme === 'mdn-like'),\n                lineNumbers: true,\n                gutter: true,\n                showCursorWhenSelecting: true,\n            })\n\n            window.editor = this.editor\n\n            this.editor.addKeyMap({\n                'Shift-Enter': () => {\n                    // this.reevalute()\n                    this.reevalute = true\n                },\n                'Ctrl-Enter': () => {\n                    // this.reevalute()\n                    this.reevalute = true\n                },\n                'Ctrl-S': () => {\n                    this.playing = !this.playing\n                },\n                'Ctrl-L': () => {\n                    this.looping = !this.looping\n                },\n            })\n        },\n\n        initPiano() {\n            this.piano = new Nexus.Piano('#piano', {\n                mode: 'button', // 'button', 'toggle', or 'impulse'\n                lowNote: this.pianoLowNote,\n                highNote: this.pianoHighNote,\n            })\n            this.resizePiano()\n            this.piano.colorize('accent', 'var(--accent)')\n            this.piano.on('change', v => {\n                this.pianoChanged(v)\n            })\n        },\n\n        initAudio() {\n            Tone.Transport.bpm.value = this.bpm\n\n            this.sampler = new Tone.Sampler(\n                this.samples,\n                () => {\n                    this.loaded = true\n                },\n                this.samplesBasePath\n            ).toMaster()\n\n            Tone.Transport.on('loopEnd', () => {\n                if (this.reevalute) {\n                    this.play()\n                    this.reevalute = false\n                }\n                this.clearPiano()\n            })\n        },\n\n        initMidi() {\n            WebMidi.enable(err => {\n                if (err) {\n                    console.log('Web Midi API not available')\n                    return\n                }\n                console.log('Web Midi API available')\n                if (WebMidi.inputs.length === 0) {\n                    console.log('There is no input connected right now')\n                    return\n                }\n                const input = WebMidi.inputs[0] // TODO: test if other inputs availables\n                input.addListener('noteon', 'all', evt => {\n                    const midi = evt.note.number\n                    if (\n                        midi >= this.piano.settings.lowNote &&\n                        midi <= this.piano.settings.highNote\n                    ) {\n                        this.inputMidi = evt.note.number\n                        this.pianoInputMidi.dispatchEvent(new Event('input'))\n                    }\n                })\n            })\n        },\n\n        play() {\n            if (!this.loaded) return\n            if (Tone.context.state === 'suspended') Tone.context.resume()\n            this.clearPiano()\n            Tone.Transport.cancel(0) // cancel all events (if exist) after 0\n            this.schedule()\n            Tone.Transport.start()\n        },\n\n        stop() {\n            Tone.Transport.stop()\n            this.clearPiano()\n            this.clearGutter()\n        },\n\n        schedule() {\n            const text = this.editor.getValue()\n            this.lines = text.split('\\n')\n\n            this.offset = 0\n\n            this.editor.getAllMarks().forEach(mark => mark.clear())\n\n            for (let i = 0; i < this.lines.length; i++) {\n                const line = this.lines[i]\n                try {\n                    this.processLine(line, i)\n                } catch (err) {\n                    console.log('error on line', i + 1)\n                    if (err instanceof errors.InvalidMidi) {\n                        //\n                    } else if (err instanceof errors.InvalidNote) {\n                        console.log('invalid note')\n                    } else if (err instanceof errors.InvalidInstruction) {\n                        //\n                    }\n                    console.log('err.msg', err.msg)\n                    this.editor.markText(\n                        { line: err.line, ch: 0 },\n                        { line: err.line + 1, ch: 0 },\n                        { className: 'error', title: err.msg }\n                    )\n                    Tone.Transport.cancel()\n                    // this.playing = false\n                    break\n                }\n            }\n\n            // Manually set loopEnd mark, since tonejs doesn't seem to do so\n            Tone.Transport.loopStart = 0\n            const loopEnd = noteUtils.getToneTimeFromOffset(this.offset)\n            Tone.Transport.loopEnd = loopEnd\n\n            // Need to manually listen for loopEnd (even if not looping) to change in UI stop button to play\n            Tone.Transport.schedule(() => {\n                if (!this.looping) this.playing = false\n            }, loopEnd)\n        },\n\n        processLine(line, idx) {\n            if (line.trim() === '') return\n\n            const tokens = line.trim().split(' ')\n            const inst = tokens[0]\n            const param = tokens[1]\n\n            const time = noteUtils.getToneTimeFromOffset(this.offset)\n\n            if (inst === 'toca') {\n                const ptNote = noteUtils.parseNote(param)\n                const midi = noteUtils.convertPtNoteToMidi(ptNote)\n\n                if (!this.isValidMidi(midi)) {\n                    throw new errors.InvalidMidi(midi, idx)\n                } else if (!this.isValidNote(ptNote)) {\n                    console.log('invalid note 0')\n                    throw new errors.InvalidNote(ptNote, idx)\n                }\n\n                // play note and piano highlight\n                Tone.Transport.schedule(t => {\n                    this.sampler.triggerAttackRelease(ptNote, '4n', t)\n                    this.piano.toggleKey(midi)\n                }, time)\n\n                // piano dehighlight\n                Tone.Transport.schedule(() => {\n                    this.piano.toggleKey(midi)\n                }, noteUtils.getToneTimeFromOffset(this.offset + 1))\n            } else if (inst === 'espera') {\n                // line highlight\n                Tone.Transport.schedule(() => {\n                    this.highlightLine(idx)\n                }, time)\n\n                this.offset += Number(param)\n            } else {\n                throw new errors.InvalidInstruction(inst, idx)\n            }\n        },\n\n        // reevalute() {\n\n        // },\n\n        inputMidiKeyPressed(evt) {\n            if (!this.inputMidi) {\n                console.log('returning')\n                return\n            }\n            if (this.inputMidi.toString().length >= 2) {\n                console.log('preventing default')\n                evt.preventDefault()\n            }\n            console.log('not preventing default')\n        },\n\n        isValidMidi(midi) {\n            return (\n                !midi ||\n                (midi >= this.pianoLowNote && midi <= this.pianoHighNote)\n            )\n        },\n\n        isValidNote() {\n            return true\n        },\n\n        inputMidiChanged() {\n            if (!this.isValidMidi(this.inputMidi) || this.inputMidi === '')\n                return\n            console.log('didnt return')\n            this.clearPiano()\n            this.piano.toggleKey(this.inputMidi)\n        },\n\n        inputNoteChanged() {\n            if (this.backspacing) return\n            try {\n                const midi = noteUtils.convertPtNoteToMidi(this.inputNote)\n                this.clearPiano()\n                this.piano.toggleKey(midi)\n            } catch (e) {\n                console.log('invalid note format', e)\n            }\n        },\n\n        inputNoteKeyPressed(evt) {\n            const key = evt.keyCode || evt.charCode\n            if (key === 8 || key === 46) this.backspacing = true\n            else this.backspacing = false\n        },\n\n        pianoChanged(evt) {\n            if (this.playing) {\n                return\n            }\n            if (this.playing) return\n            const midi = evt.note\n            if (evt.state) {\n                this.inputMidi = midi\n                const ptNote = noteUtils.convertMidiToPtNote(midi)\n                const enNote = noteUtils.convertMidiToEnNote(midi, false)\n                this.inputNote = ptNote\n                if (!this.playing) {\n                    this.sampler.triggerAttackRelease(\n                        teoria\n                            .note(enNote)\n                            .interval('P-8')\n                            .scientific(),\n                        '8n'\n                    )\n                }\n            }\n        },\n\n        clearPiano() {\n            this.piano.keys.forEach(key => {\n                key.state = false\n            })\n        },\n\n        clearGutter() {\n            const sel = '.CodeMirror-linenumber.CodeMirror-gutter-elt'\n            const lines = document.querySelectorAll(sel)\n            lines.forEach(line => {\n                line.classList.remove('active')\n            })\n        },\n\n        highlightLine(lineIdx) {\n            this.clearGutter()\n            const sel = '.CodeMirror-linenumber.CodeMirror-gutter-elt'\n            document.querySelectorAll(sel)[lineIdx].classList.add('active')\n        },\n\n        resize() {\n            this.resizePiano()\n        },\n\n        resizePiano() {\n            this.pianoRatio = 500 / 125\n            const pianoWidth = document.getElementById('editor').clientWidth\n            this.piano.resize(pianoWidth, pianoWidth / this.pianoRatio)\n\n            document.querySelectorAll('rect').forEach(rect => {\n                const r = 4\n                rect.setAttribute('rx', r)\n                rect.setAttribute('ry', r)\n                if (rect.getAttribute('fill') === '#333') {\n                    const rw = Number.parseFloat(rect.getAttribute('width'))\n                    const rx = Number.parseFloat(rect.getAttribute('x'))\n                    const rr = 0.75\n                    const nrx = rx + ((1 - rr) / 2) * rw\n                    rect.setAttribute('width', rw * rr)\n                    rect.setAttribute('x', nrx)\n                }\n            })\n        },\n    },\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/eslint-loader/index.js??ref--13-0!./app.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/eslint-loader/index.js??ref--13-0!./app.js?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=6f9d225e&\"\nimport script from \"./app.js?vue&type=script&lang=js&\"\nexport * from \"./app.js?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n    register(`${process.env.BASE_URL}service-worker.js`, {\n        ready() {\n            console.log(\n                'App is being served from cache by a service worker.\\n' +\n                    'For more details, visit https://goo.gl/AFskqB'\n            )\n        },\n        registered() {\n            console.log('Service worker has been registered.')\n        },\n        cached() {\n            console.log('Content has been cached for offline use.')\n        },\n        updatefound() {\n            console.log('New content is downloading.')\n        },\n        updated() {\n            console.log('New content is available; please refresh.')\n        },\n        offline() {\n            console.log(\n                'No internet connection found. App is running in offline mode.'\n            )\n        },\n        error(error) {\n            console.error('Error during service worker registration:', error)\n        },\n    })\n}\n","import Vue from 'vue'\nimport App from './App.vue'\nimport './registerServiceWorker'\nimport 'bootstrap'\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nVue.config.productionTip = false\nVue.config.devtools = false\n\nnew Vue({\n    render: h => h(App),\n}).$mount('#app')\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}